{
  "active_chat_id": "chat-6c9fceb0",
  "chats": [
    {
      "id": "chat-6c9fceb0",
      "name": "Default",
      "history": [
        {
          "role": "user",
          "content": "adsfasdf",
          "mode": "dsl"
        },
        {
          "role": "assistant",
          "content": "null",
          "mode": "dsl"
        },
        {
          "role": "user",
          "content": "adsfasdf",
          "mode": "dsl"
        },
        {
          "role": "assistant",
          "content": "{\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'adsfasdf'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}",
          "mode": "dsl"
        },
        {
          "role": "user",
          "content": "sorry about that. What is today's date?",
          "mode": "dsl"
        },
        {
          "role": "assistant",
          "content": "Today's date is June 23, 2024.",
          "mode": "dsl"
        },
        {
          "role": "user",
          "content": "pee pee poop poo\n\nWhat's going on",
          "mode": "dsl"
        },
        {
          "role": "assistant",
          "content": "{\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'pee pee poop poo'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}",
          "mode": "dsl"
        },
        {
          "role": "user",
          "content": "testing testing",
          "mode": "dsl"
        },
        {
          "role": "assistant",
          "content": "{\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'testing testing'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}",
          "mode": "dsl"
        },
        {
          "role": "user",
          "content": "can you say \"hello hei\"",
          "mode": "dsl",
          "meta": {
            "parsed_steps": [
              {
                "index": 0,
                "start_line_no": 1,
                "text": "can you say \"hello hei\"",
                "from_items": null,
                "out_items": null,
                "as_vars": null,
                "directives": []
              }
            ],
            "execution_logs": [
              {
                "step_index": 0,
                "start_line_no": 1,
                "text": "can you say \"hello hei\"",
                "from_items": null,
                "resolved_inputs": {},
                "out_items": null,
                "as_vars": null,
                "notes": [],
                "prompt": "You are executing a DSL step.\n\nInstruction:\ncan you say \"hello hei\"\n\nChat history (previous messages):\nuser: adsfasdf\nassistant: null\nuser: adsfasdf\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'adsfasdf'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: sorry about that. What is today's date?\nassistant: Today's date is June 23, 2024.\nuser: pee pee poop poo\n\nWhat's going on\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'pee pee poop poo'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: testing testing\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'testing testing'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\n\nInputs (resolved):\nNone\n\nRequired outputs:\n- output\n\nReturn JSON only. No markdown. No code fences.",
                "history_included": true,
                "raw_response": "{\"output\": \"hello hei\"}",
                "parsed_json": {
                  "output": "hello hei"
                }
              }
            ],
            "vars_after": {}
          }
        },
        {
          "role": "assistant",
          "content": "hello hei",
          "mode": "dsl",
          "meta": {
            "step_log": {
              "step_index": 0,
              "start_line_no": 1,
              "text": "can you say \"hello hei\"",
              "from_items": null,
              "resolved_inputs": {},
              "out_items": null,
              "as_vars": null,
              "notes": [],
              "prompt": "You are executing a DSL step.\n\nInstruction:\ncan you say \"hello hei\"\n\nChat history (previous messages):\nuser: adsfasdf\nassistant: null\nuser: adsfasdf\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'adsfasdf'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: sorry about that. What is today's date?\nassistant: Today's date is June 23, 2024.\nuser: pee pee poop poo\n\nWhat's going on\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'pee pee poop poo'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: testing testing\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'testing testing'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\n\nInputs (resolved):\nNone\n\nRequired outputs:\n- output\n\nReturn JSON only. No markdown. No code fences.",
              "history_included": true,
              "raw_response": "{\"output\": \"hello hei\"}",
              "parsed_json": {
                "output": "hello hei"
              }
            }
          }
        },
        {
          "role": "user",
          "content": "find the square root of 50\n/OUT just the number\n/AS sq50",
          "mode": "dsl",
          "meta": {
            "parsed_steps": [
              {
                "index": 0,
                "start_line_no": 1,
                "text": "find the square root of 50",
                "from_items": null,
                "out_items": [
                  "just the number"
                ],
                "as_vars": [
                  "sq50"
                ],
                "directives": [
                  {
                    "name": "OUT",
                    "items": [
                      "just the number"
                    ],
                    "line_no": 2
                  },
                  {
                    "name": "AS",
                    "items": [
                      "sq50"
                    ],
                    "line_no": 3
                  }
                ]
              }
            ],
            "execution_logs": [
              {
                "step_index": 0,
                "start_line_no": 1,
                "text": "find the square root of 50",
                "from_items": null,
                "resolved_inputs": {},
                "out_items": [
                  "just the number"
                ],
                "as_vars": [
                  "sq50"
                ],
                "notes": [],
                "prompt": "You are executing a DSL step.\n\nInstruction:\nfind the square root of 50\n\nChat history (previous messages):\nuser: adsfasdf\nassistant: null\nuser: adsfasdf\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'adsfasdf'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: sorry about that. What is today's date?\nassistant: Today's date is June 23, 2024.\nuser: pee pee poop poo\n\nWhat's going on\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'pee pee poop poo'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: testing testing\nassistant: {\n  \"error\": {\n    \"message\": \"Invalid or unrecognized instruction: 'testing testing'. Please provide a valid DSL instruction.\",\n    \"type\": \"InvalidInstructionError\"\n  }\n}\nuser: can you say \"hello hei\"\nassistant: hello hei\n\nInputs (resolved):\nNone\n\nRequired outputs:\n- sq50: just the number\n\nReturn JSON only. No markdown. No code fences.",
                "history_included": true,
                "raw_response": "{\"sq50\": 7.0710678118654755}",
                "parsed_json": {
                  "sq50": 7.0710678118654755
                }
              }
            ],
            "vars_after": {
              "sq50": 7.0710678118654755
            }
          }
        },
        {
          "role": "assistant",
          "content": "(no visible output; all steps produced variables)",
          "mode": "dsl"
        }
      ],
      "vars": {
        "sq50": 7.0710678118654755
      }
    }
  ]
}